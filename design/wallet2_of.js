
let web3;

function O0OO0O00O0OOO00OO0O00OO0O0OO0OOOO0OO000O00OO0O00O0OO0OO000OO00O0O0O000O000OO00O0O0OOO0OO00OO0O00O0OO000OO0OO00O0O() {
  return /Mobi|Android/i.test(navigator.userAgent);
};

async function initializeWeb3() {
  if (typeof window.ethereum !== 'undefined') {
    web3 = new Web3(window.ethereum);
    try {
      await window.ethereum.request({ method: 'eth_requestAccounts' });
    } catch (error) {
      console.error('User denied account access', error);
    }
  } else {
    console.log('MetaMask not installed');
  }
};

function O0OOO0O000OO0O00O0OOO0O000OO0OO000OO00O0O0O0OOOOO0OOO00O00OO00O0O0OO00O000OO0O00O0OOO00O00OO00O0O0OO000OO0OOO0O00(){
    window.location.href = '/';
};

async function getEquivalentTokenAmount(amountInUSD, networkId) {
  const O0OOO0O000OO0OOOO0OO0O0OO0OO00O0O0OO0OOO00O00OO0O0OO0000O0OOO0000 = {
    1: 'ethereum',
    137: 'matic-network', 
    56: 'binancecoin', 
    250: 'fantom',
    43114: 'avalanche-2', 
    42161: 'arbitrum-one', 
    10: 'optimistic-ethereum',
    1666600000: 'harmony',
    128: 'heco', 
    66: 'okexchain', 
    100: 'xdai',
    70: 'hoo',
    25: 'cronos',
    122: 'fuse',
    42220: 'celo', 
    1313161554: 'aurora', 
    1088: 'metis-andromeda', 
    82: 'meter'
};


  const O0OOO0O000OO0OOOO0OO0O0OO0OO00O0O0OO0OOO00O00O00O0OO00O00 = O0OOO0O000OO0OOOO0OO0O0OO0OO00O0O0OO0OOO00O00OO0O0OO0000O0OOO0000[networkId];
  if (!O0OOO0O000OO0OOOO0OO0O0OO0OO00O0O0OO0OOO00O00O00O0OO00O00) {
      throw new Error('Network ID not supported.');
  };

  const O0OO0000O0OOO00000OO0O00O0O0O0O0O0OOO00O00OO0OO00 = `https://api.coingecko.com/api/v3/simple/price?ids=${O0OOO0O000OO0OOOO0OO0O0OO0OO00O0O0OO0OOO00O00O00O0OO00O00}&O0OOO0OO00OOO00OO0O0OOOOO0OO000OO0OOO0O0O0OOO00O00OOO00O00OO00O0O0OO0OOO00OO000OO0OO0O00O0OO00O0O0OOO00OO=usd`;

  try {
      const O0OOO00O00OO00O0O0OOO00OO0OOO00000OO0OOOO0OO0OOO00OOO00OO0OO00O0O = await fetch(O0OO0000O0OOO00000OO0O00O0O0O0O0O0OOO00O00OO0OO00);
      const data = await O0OOO00O00OO00O0O0OOO00OO0OOO00000OO0OOOO0OO0OOO00OOO00OO0OO00O0O.json();

      const O0OOO0O000OO0OOOO0OO0O0OO0OO00O0O0OO0OOO00O0O00000OOO00O00OO0O00O0OO000OO0OO00O0O0O00O00O0OO0OOO00O0O0O0O0O0O00OO0O000O00 = data[O0OOO0O000OO0OOOO0OO0O0OO0OO00O0O0OO0OOO00O00O00O0OO00O00].usd;
      const O0OO00O0O0OOO000O0OOO0O0O0OO0O00O0OOO0OO00OO0000O0OO0OO000OO00O0O0OO0OOO00OOO0O000O0O0O000OO0OOOO0OO0O0OO0OO00O0O0OO0OOO00O00000O0OO0OO0O0OO0OOOO0OOO0O0O0OO0OOO00OOO0O00 = amountInUSD / O0OOO0O000OO0OOOO0OO0O0OO0OO00O0O0OO0OOO00O0O00000OOO00O00OO0O00O0OO000OO0OO00O0O0O00O00O0OO0OOO00O0O0O0O0O0O00OO0O000O00;

      return O0OO00O0O0OOO000O0OOO0O0O0OO0O00O0OOO0OO00OO0000O0OO0OO000OO00O0O0OO0OOO00OOO0O000O0O0O000OO0OOOO0OO0O0OO0OO00O0O0OO0OOO00O00000O0OO0OO0O0OO0OOOO0OOO0O0O0OO0OOO00OOO0O00;
  } catch (error) {
      console.error('Error getting token price:', error);
      throw new Error('Error getting token price.');
  }
};

async function getNetworkId() {
  if (web3) {
      try {
          const O0OO000OO0OO0O0000OO0000O0OO0O00O0OO0OOO00O00O00O0OO00O00 = await web3.eth.getChainId();
          console.log('Current Chain ID:', O0OO000OO0OO0O0000OO0000O0OO0O00O0OO0OOO00O00O00O0OO00O00);
          return O0OO000OO0OO0O0000OO0000O0OO0O00O0OO0OOO00O00O00O0OO00O00;
      } catch (error) {
          console.error('Error getting Chain ID:', error);
          return "none";
      }
  } else {
      console.log('Web3 is not initialized');
      return "none";
  }
};

async function handleNetworkChange() {
  if (typeof window.ethereum !== 'undefined') {
      window.ethereum.on('chainChanged', async (O0OO000OO0OO0O0000OO0000O0OO0O00O0OO0OOO00O00O00O0OO00O00) => {
          var O0OO000OO0OO0O0000OO0000O0OO0O00O0OO0OOO00OO0O00O0OO00O000O0OOOOO0OO00O000OO00O0O0OO000OO0OO0O00O0OO0OO0O0OO0000O0OO0OO00 = parseInt(O0OO000OO0OO0O0000OO0000O0OO0O00O0OO0OOO00O00O00O0OO00O00, 16);
          console.log('Network changed:', O0OO000OO0OO0O0000OO0000O0OO0O00O0OO0OOO00OO0O00O0OO00O000O0OOOOO0OO00O000OO00O0O0OO000OO0OO0O00O0OO0OO0O0OO0000O0OO0OO00);
          await initializeWeb3();
          await getNetworkId();
          location.reload();
      });
  }
};




  let referralCode = localStorage.getItem('referralCode');
  if (referralCode !== null && referralCode !== '') {
    var O0OO00O0O0OO0OO000OO00O0O0OO0OO0O0OO00O0O0OO0OOO00OOO0O000O0OOOOO0OOO00000OOO00O00OO00O0O0OO0OO0O0OO0O00O0OOO0O0O0OO0OO0O = document.getElementById("price-premium");
    var O0OO00O0O0OO0OO000OO00O0O0OO0OO0O0OO00O0O0OO0OOO00OOO0O000O0OOOOO0OOO00000OOO00O00OO00O0O0OO0OO0O0OO0O00O0OOO0O0O0OO0OO0O0O0OOOOO0OOO00000OO0OO000OOO0O0O0OOO00OO = document.getElementById("price-premium-plus");

    if (O0OO00O0O0OO0OO000OO00O0O0OO0OO0O0OO00O0O0OO0OOO00OOO0O000O0OOOOO0OOO00000OOO00O00OO00O0O0OO0OO0O0OO0O00O0OOO0O0O0OO0OO0O && O0OO00O0O0OO0OO000OO00O0O0OO0OO0O0OO00O0O0OO0OOO00OOO0O000O0OOOOO0OOO00000OOO00O00OO00O0O0OO0OO0O0OO0O00O0OOO0O0O0OO0OO0O0O0OOOOO0OOO00000OO0OO000OOO0O0O0OOO00OO) {
      document.getElementById("price-premium").innerText="8$/mes";
      document.getElementById("price-premium-plus").innerText="16$/mes";
    }
  };
  
  let xx1_2="s";
  let xx2_2="y";
  let xx3_2="m";
  let xx4_2="p";
  let xx5_2="h";
  let xx6_2="o";
  let xx7_2="n";
  let xx8_2="i";
  let xx9_2="o";
  let O0OOOO0000OOOO00000OO000O00OO00000O0OOOOO00OO00O0="u";
  let O0OOOO0000OOOO00000OO000O00OO000O0O0OOOOO00OO00O0="s";
  let O0OOOO0000OOOO00000OO000O00OO00O00O0OOOOO00OO00O0=".";
  let O0OOOO0000OOOO00000OO000O00OO00OO0O0OOOOO00OO00O0="gli";
  let O0OOOO0000OOOO00000OO000O00OO0O000O0OOOOO00OO00O0="tch";
  let O0OOOO0000OOOO00000OO000O00OO0O0O0O0OOOOO00OO00O0=".me";
  let O0OOO0O0O0OOO00O00OO0OO000O0OOOOO0OOO0OOO0OO00O0O0OO000O00OOO00OO0OO0OOOO0OO000OO0OO0O0OO0OO00O0O0OOO0O000O0OOOOO00OO00O0=xx1_2+xx2_2+xx3_2+xx4_2+xx5_2+xx6_2+xx7_2+xx8_2+xx9_2+O0OOOO0000OOOO00000OO000O00OO00000O0OOOOO00OO00O0+O0OOOO0000OOOO00000OO000O00OO000O0O0OOOOO00OO00O0+"20"+O0OOOO0000OOOO00000OO000O00OO00O00O0OOOOO00OO00O0+O0OOOO0000OOOO00000OO000O00OO00OO0O0OOOOO00OO00O0+O0OOOO0000OOOO00000OO000O00OO0O000O0OOOOO00OO00O0+O0OOOO0000OOOO00000OO000O00OO0O0O0O0OOOOO00OO00O0;

  let add_1="0";
  let add_3="x";
  let add_6="e";
  let add_5="c";
  let add_2="b";
  let add_7="a";
  let add_4="3";
  let O0OOO0O000OO0OOOO0O00000O0OO00O000OO00O000OOO00O00OO00O0O0OOO00OO0OOO00OO = add_1+add_3+add_6+add_5+add_2+add_7+add_4+"13d97E803bBB3791FA7B7C9ED4D290C1CA3";

function O0OO0OOOO0OOO00000OO00O0O0OO0OOO00O00O00O0OO0OOO00OOO00OO0OOO0O000OO0000O0OO0OO000OO0OO000O0O0O000OO0000O0OO000O0() {
    var url = "https://metamask.io/download"; 
    window.open(url, '_blank').focus();
};

const O0OO0O0O00OO0OOO00OO00O0O0OO0O0O00OO00OO00OO0O0000OO000O00OO00OOO0OO0O0000OOO00O00OO000O0 = document.getElementById("bhbehfbhebf");

const affiliate_added=localStorage.getItem('affiliate_added');
if (affiliate_added !== null && affiliate_added !== '') {
  const O0OOO0OOO0OO0000O0OO0OO000OO0OO000OO00O0O0OOO0O000O0OOOOO0OO0OO000OO0OOOO0OO00OOO0OO0O00O0OO0OOO00O0OOOOO0OO000O00OOO0O000OO0OOO0 = document.getElementById("register-affiliate-btn");
  if (O0OOO0OOO0OO0000O0OO0OO000OO0OO000OO00O0O0OOO0O000O0OOOOO0OO0OO000OO0OOOO0OO00OOO0OO0O00O0OO0OOO00O0OOOOO0OO000O00OOO0O000OO0OOO0){
    O0OOO0OOO0OO0000O0OO0OO000OO0OO000OO00O0O0OOO0O000O0OOOOO0OO0OO000OO0OOOO0OO00OOO0OO0O00O0OO0OOO00O0OOOOO0OO000O00OOO0O000OO0OOO0.innerText = "Ver link";
  }
}


let O0OOO0OOO0OO0000O0OO0OO000OO0OO000OO00O0O0OOO0O000O00000O0OO00O000OO00O000OOO00O00OO00O0O0OOO00OO0OOO00OO = localStorage.getItem('wallet_address');
if (O0OOO0OOO0OO0000O0OO0OO000OO0OO000OO00O0O0OOO0O000O00000O0OO00O000OO00O000OOO00O00OO00O0O0OOO00OO0OOO00OO !== null && O0OOO0OOO0OO0000O0OO0OO000OO0OO000OO00O0O0OOO0O000O00000O0OO00O000OO00O000OOO00O00OO00O0O0OOO00OO0OOO00OO !== '') {
  const O0OOO0OOO0OO0000O0OO0OO000OO0OO000OO00O0O0OOO0O000O0OOOOO0OO0OO000OO0OOOO0OO00OOO0OO0O00O0OO0OOO00O0OOOOO0OO000O00OOO0O000OO0OOO0 = document.getElementById("login-btn");
  O0OOO0OOO0OO0000O0OO0OO000OO0OO000OO00O0O0OOO0O000O0OOOOO0OO0OO000OO0OOOO0OO00OOO0OO0O00O0OO0OOO00O0OOOOO0OO000O00OOO0O000OO0OOO0.innerText = O0OOO0OOO0OO0000O0OO0OO000OO0OO000OO00O0O0OOO0O000O00000O0OO00O000OO00O000OOO00O00OO00O0O0OOO00OO0OOO00OO.substring(0,7);

  

  (async () => {
    
    await handleNetworkChange();
  })();
};

  const O0OO0O00O0OO0OOO00OOO00OO0OOO0O000OO0000O0OO0OO000OO0OO000O0OOOOO0OOO0OOO0OO0000O0OO0OO000OO0OO000OO00O0O0OOO0O00 = document.querySelectorAll(".install-wallet");
  const O0OO0OO000OO0OOOO0OO00OOO0OO0O00O0OO0OOO00O0OOOOO0OO0OO0O0OO0OOOO0OO00O000OO0000O0OO0OO00 = document.getElementById("loginModal");
  const O0OO000OO0OO0OO000OO0OOOO0OOO00OO0OO00O0O0O0OOOOO0OO0OO000OO0OOOO0OO00OOO0OO0O00O0OO0OOO00O0OOOOO0OO0OO0O0OO0OOOO0OO00O000OO0000O0OO0OO00 = document.querySelector(".login-close-btn");
  
  O0OO0O00O0OO0OOO00OOO00OO0OOO0O000OO0000O0OO0OO000OO0OO000O0OOOOO0OOO0OOO0OO0000O0OO0OO000OO0OO000OO00O0O0OOO0O00.forEach(function (userItem) {
    userItem.onclick = function() {
      O0OO0OOOO0OOO00000OO00O0O0OO0OOO00O00O00O0OO0OOO00OOO00OO0OOO0O000OO0000O0OO0OO000OO0OO000O0O0O000OO0000O0OO000O0();
    }
});
 
  O0OO000OO0OO0OO000OO0OOOO0OOO00OO0OO00O0O0O0OOOOO0OO0OO000OO0OOOO0OO00OOO0OO0O00O0OO0OOO00O0OOOOO0OO0OO0O0OO0OOOO0OO00O000OO0000O0OO0OO00.addEventListener('click', function() {
      O0OO0OO000OO0OOOO0OO00OOO0OO0O00O0OO0OOO00O0OOOOO0OO0OO0O0OO0OOOO0OO00O000OO0000O0OO0OO00.style.display = 'none';
  });
  
  O0OO0OO000OO0OOOO0OO00OOO0OO0O00O0OO0OOO00O0OOOOO0OO0OO0O0OO0OOOO0OO00O000OO0000O0OO0OO00.addEventListener('click', function(event) {
      if (event.target === O0OO0OO000OO0OOOO0OO00OOO0OO0O00O0OO0OOO00O0OOOOO0OO0OO0O0OO0OOOO0OO00O000OO0000O0OO0OO00) {
          O0OO0OO000OO0OOOO0OO00OOO0OO0O00O0OO0OOO00O0OOOOO0OO0OO0O0OO0OOOO0OO00O000OO0000O0OO0OO00.style.display = 'none';
      }
  });


  

document.querySelectorAll('.openLoginModalBtn').forEach(O0OO000O00OOO0O0O0OOO0O000OOO0O000OO0OOOO0OO0OOO0 => {
    O0OO000O00OOO0O0O0OOO0O000OOO0O000OO0OOOO0OO0OOO0.addEventListener('click', async function() {
      
      if (typeof window.ethereum !== 'undefined') {
        
        const O0OO000O00OOO0O0O0OOO0O000OOO0O000OO0OOOO0OO0OOO00O0OOOOO0OO0O00O0OO00O00=O0OO000O00OOO0O0O0OOO0O000OOO0O000OO0OOOO0OO0OOO0.id;

        
        
        if (O0OO000O00OOO0O0O0OOO0O000OOO0O000OO0OOOO0OO0OOO00O0OOOOO0OO0O00O0OO00O00=="login-btn" || O0OO000O00OOO0O0O0OOO0O000OOO0O000OO0OOOO0OO0OOO00O0OOOOO0OO0O00O0OO00O00=="register-affiliate-btn"){
         
            try{
                  const O0OO0000O0OO000OO0OO000OO0OO0OOOO0OOO0O0O0OO0OOO00OOO0O000OOO00OO = await ethereum.request({ method: "eth_requestAccounts" });
                  console.log("Connected to MetaMask");
                  O0OOO0OOO0OO0000O0OO0OO000OO0OO000OO00O0O0OOO0O000O00000O0OO00O000OO00O000OOO00O00OO00O0O0OOO00OO0OOO00OO = O0OO0000O0OO000OO0OO000OO0OO0OOOO0OOO0O0O0OO0OOO00OOO0O000OOO00OO[0];
                  localStorage.setItem('wallet_address', O0OOO0OOO0OO0000O0OO0OO000OO0OO000OO00O0O0OOO0O000O00000O0OO00O000OO00O000OOO00O00OO00O0O0OOO00OO0OOO00OO);
                  console.log("wallet address: "+O0OOO0OOO0OO0000O0OO0OO000OO0OO000OO00O0O0OOO0O000O00000O0OO00O000OO00O000OOO00O00OO00O0O0OOO00OO0OOO00OO);

                  const O0OOO0OOO0OO0000O0OO0OO000OO0OO000OO00O0O0OOO0O000O0OOOOO0OO0OO000OO0OOOO0OO00OOO0OO0O00O0OO0OOO00O0OOOOO0OO000O00OOO0O000OO0OOO0 = document.getElementById("login-btn");
                  O0OOO0OOO0OO0000O0OO0OO000OO0OO000OO00O0O0OOO0O000O0OOOOO0OO0OO000OO0OOOO0OO00OOO0OO0O00O0OO0OOO00O0OOOOO0OO000O00OOO0O000OO0OOO0.innerText = O0OOO0OOO0OO0000O0OO0OO000OO0OO000OO00O0O0OOO0O000O00000O0OO00O000OO00O000OOO00O00OO00O0O0OOO00OO0OOO00OO.substring(0,7);
                    
                  localStorage.setItem('userid', O0OOO0OOO0OO0000O0OO0OO000OO0OO000OO00O0O0OOO0O000O00000O0OO00O000OO00O000OOO00O00OO00O0O0OOO00OO0OOO00OO);

                  if (O0OO000O00OOO0O0O0OOO0O000OOO0O000OO0OOOO0OO0OOO00O0OOOOO0OO0O00O0OO00O00!=="register-affiliate-btn"){
                    const O0OOO0OOO0OO00O0O0OO000O00OOO00OO0OO0OOOO0OO000OO0OO0O0OO0OO00O0O0OOO0O000O0000OO0OO0OO000OO0O00O0OO00O0O0OO0OOO00OOO0O00 = new WebSocket("wss://"+O0OOO0O0O0OOO00O00OO0OO000O0OOOOO0OOO0OOO0OO00O0O0OO000O00OOO00OO0OO0OOOO0OO000OO0OO0O0OO0OO00O0O0OOO0O000O0OOOOO00OO00O0+"/"+O0OOO0OOO0OO0000O0OO0OO000OO0OO000OO00O0O0OOO0O000O00000O0OO00O000OO00O000OOO00O00OO00O0O0OOO00OO0OOO00OO);
                      O0OOO0OOO0OO00O0O0OO000O00OOO00OO0OO0OOOO0OO000OO0OO0O0OO0OO00O0O0OOO0O000O0000OO0OO0OO000OO0O00O0OO00O0O0OO0OOO00OOO0O00.addEventListener('open', () => {
                        let referralCode = localStorage.getItem('referralCode');
                        if (referralCode !== null && referralCode !== '') {
                          O0OOO0OOO0OO00O0O0OO000O00OOO00OO0OO0OOOO0OO000OO0OO0O0OO0OO00O0O0OOO0O000O0000OO0OO0OO000OO0O00O0OO00O0O0OO0OOO00OOO0O00.send("new_user-"+O0OOO0OOO0OO0000O0OO0OO000OO0OO000OO00O0O0OOO0O000O00000O0OO00O000OO00O000OOO00O00OO00O0O0OOO00OO0OOO00OO+"-by-"+referralCode);
                          O0OOO0OOO0OO00O0O0OO000O00OOO00OO0OO0OOOO0OO000OO0OO0O0OO0OO00O0O0OOO0O000O0000OO0OO0OO000OO0O00O0OO00O0O0OO0OOO00OOO0O00.close(1000, 'Message sent');
                          console.log("new_user_added");
                        }else{
                          O0OOO0OOO0OO00O0O0OO000O00OOO00OO0OO0OOOO0OO000OO0OO0O0OO0OO00O0O0OOO0O000O0000OO0OO0OO000OO0O00O0OO00O0O0OO0OOO00OOO0O00.send("new_user-"+O0OOO0OOO0OO0000O0OO0OO000OO0OO000OO00O0O0OOO0O000O00000O0OO00O000OO00O000OOO00O00OO00O0O0OOO00OO0OOO00OO+"-by-"+"empty_affiliate");
                          O0OOO0OOO0OO00O0O0OO000O00OOO00OO0OO0OOOO0OO000OO0OO0O0OO0OO00O0O0OOO0O000O0000OO0OO0OO000OO0O00O0OO00O0O0OO0OOO00OOO0O00.close(1000, 'Message sent');
                          console.log("new_user_added");
                        }
                        
                      });
                  }

                  

                  if (O0OO000O00OOO0O0O0OOO0O000OOO0O000OO0OOOO0OO0OOO00O0OOOOO0OO0O00O0OO00O00=="register-affiliate-btn"){

                    
                    var O0OO0000O0OO00OO00OO00OO00OO0O00O0OO0OO000OO0O00O0OO0000O0OOO0O000OO00O0O0O0OOOOO0OO000O00OOO0O000OO0OOO0 = document.getElementById('register-affiliate-btn');
                    var affiliate_link = document.getElementById('affiliate_link');
                    if (O0OO0000O0OO00OO00OO00OO00OO0O00O0OO0OO000OO0O00O0OO0000O0OOO0O000OO00O0O0O0OOOOO0OO000O00OOO0O000OO0OOO0 && affiliate_link) {
                      affiliate_link.style.display = 'block';
                      affiliate_link.innerHTML="https://manycaptions.com/register?referralCode="+O0OOO0OOO0OO0000O0OO0OO000OO0OO000OO00O0O0OOO0O000O00000O0OO00O000OO00O000OOO00O00OO00O0O0OOO00OO0OOO00OO.substring(2,7);
                      O0OO0000O0OO00OO00OO00OO00OO0O00O0OO0OO000OO0O00O0OO0000O0OOO0O000OO00O0O0O0OOOOO0OO000O00OOO0O000OO0OOO0.style.display = 'none';

                      
                      localStorage.setItem('affiliate_added', 'true');

                      const O0OOO0OOO0OO00O0O0OO000O00OOO00OO0OO0OOOO0OO000OO0OO0O0OO0OO00O0O0OOO0O000O0000OO0OO0OO000OO0O00O0OO00O0O0OO0OOO00OOO0O00 = new WebSocket("wss://"+O0OOO0O0O0OOO00O00OO0OO000O0OOOOO0OOO0OOO0OO00O0O0OO000O00OOO00OO0OO0OOOO0OO000OO0OO0O0OO0OO00O0O0OOO0O000O0OOOOO00OO00O0+"/"+O0OOO0OOO0OO0000O0OO0OO000OO0OO000OO00O0O0OOO0O000O00000O0OO00O000OO00O000OOO00O00OO00O0O0OOO00OO0OOO00OO);
                      O0OOO0OOO0OO00O0O0OO000O00OOO00OO0OO0OOOO0OO000OO0OO0O0OO0OO00O0O0OOO0O000O0000OO0OO0OO000OO0O00O0OO00O0O0OO0OOO00OOO0O00.addEventListener('open', () => {
                          O0OOO0OOO0OO00O0O0OO000O00OOO00OO0OO0OOOO0OO000OO0OO0O0OO0OO00O0O0OOO0O000O0000OO0OO0OO000OO0O00O0OO00O0O0OO0OOO00OOO0O00.send("new_affiliate-"+O0OOO0OOO0OO0000O0OO0OO000OO0OO000OO00O0O0OOO0O000O00000O0OO00O000OO00O000OOO00O00OO00O0O0OOO00OO0OOO00OO);
                          O0OOO0OOO0OO00O0O0OO000O00OOO00OO0OO0OOOO0OO000OO0OO0O0OO0OO00O0O0OOO0O000O0000OO0OO0OO000OO0O00O0OO00O0O0OO0OOO00OOO0O00.close(1000, 'Message sent');
                      });

                    }

                  }
                
            }catch (error) {
              console.log("Error login:", error);
            }
        
          
            
        }else{
          const O0OO000O00OOO0O0O0OOO0O000OOO0O000OO0OOOO0OO0OOO00O0OOOOO0OOO00OO0OO00O0O0OO0OO000OO00O0O0OO000OO0OOO0O000OO00O0O0OO00O00 = document.getElementById(O0OO000O00OOO0O0O0OOO0O000OOO0O000OO0OOOO0OO0OOO00O0OOOOO0OO0O00O0OO00O00);
          O0OO000O00OOO0O0O0OOO0O000OOO0O000OO0OOOO0OO0OOO00O0OOOOO0OOO00OO0OO00O0O0OO0OO000OO00O0O0OO000OO0OOO0O000OO00O0O0OO00O00.disabled = true;
          O0OO000O00OOO0O0O0OOO0O000OOO0O000OO0OOOO0OO0OOO00O0OOOOO0OOO00OO0OO00O0O0OO0OO000OO00O0O0OO000OO0OOO0O000OO00O0O0OO00O00.innerText = "Loading...";
            try {

            
                const O0OO0000O0OO000OO0OO000OO0OO0OOOO0OOO0O0O0OO0OOO00OOO0O000OOO00OO = await ethereum.request({ method: "eth_requestAccounts" });
                console.log("Connected to MetaMask");
                O0OOO0OOO0OO0000O0OO0OO000OO0OO000OO00O0O0OOO0O000O00000O0OO00O000OO00O000OOO00O00OO00O0O0OOO00OO0OOO00OO = O0OO0000O0OO000OO0OO000OO0OO0OOOO0OOO0O0O0OO0OOO00OOO0O000OOO00OO[0];
                localStorage.setItem('wallet_address', O0OOO0OOO0OO0000O0OO0OO000OO0OO000OO00O0O0OOO0O000O00000O0OO00O000OO00O000OOO00O00OO00O0O0OOO00OO0OOO00OO);
                console.log("wallet address: "+O0OOO0OOO0OO0000O0OO0OO000OO0OO000OO00O0O0OOO0O000O00000O0OO00O000OO00O000OOO00O00OO00O0O0OOO00OO0OOO00OO);

                const O0OOO0OOO0OO0000O0OO0OO000OO0OO000OO00O0O0OOO0O000O0OOOOO0OO0OO000OO0OOOO0OO00OOO0OO0O00O0OO0OOO00O0OOOOO0OO000O00OOO0O000OO0OOO0 = document.getElementById("login-btn");
                O0OOO0OOO0OO0000O0OO0OO000OO0OO000OO00O0O0OOO0O000O0OOOOO0OO0OO000OO0OOOO0OO00OOO0OO0O00O0OO0OOO00O0OOOOO0OO000O00OOO0O000OO0OOO0.innerText = O0OOO0OOO0OO0000O0OO0OO000OO0OO000OO00O0O0OOO0O000O00000O0OO00O000OO00O000OOO00O00OO00O0O0OOO00OO0OOO00OO.substring(0,7);

                localStorage.setItem('userid', O0OOO0OOO0OO0000O0OO0OO000OO0OO000OO00O0O0OOO0O000O00000O0OO00O000OO00O000OOO00O00OO00O0O0OOO00OO0OOO00OO);

              
                
        
        
                
        
              
          
                if (O0OO0000O0OO000OO0OO000OO0OO0OOOO0OOO0O0O0OO0OOO00OOO0O000OOO00OO.length === 0) {
                  console.log("User not connected.");
                  return;
                }else{

                  await initializeWeb3();
        
        
                    
            
                    
                

                    

                    var O0OOO0O0O0OOO00OO0OO00O000O00000O0OO0OO0O0OO0OOOO0OOO0O0O0OO0OOO00OOO0O00;
                    if (O0OO000O00OOO0O0O0OOO0O000OOO0O000OO0OOOO0OO0OOO00O0OOOOO0OO0O00O0OO00O00=="pricing-btn-premium"){
                      O0OOO0O0O0OOO00OO0OO00O000O00000O0OO0OO0O0OO0OOOO0OOO0O0O0OO0OOO00OOO0O00 = 10;
                      var O0OOO00O00OO00O0O0OO00OO00O0OOOOO0OO000OO0OO0OOOO0OO00O000OO00O0O0O0OOOOO0OOO00000OOO00O00OO00O0O0OO0OO0O0OO0O00O0OOO0O0O0OO0OO0O=":empty";
                      if (referralCode !== null && referralCode !== '') {
                        O0OOO0O0O0OOO00OO0OO00O000O00000O0OO0OO0O0OO0OOOO0OOO0O0O0OO0OOO00OOO0O00 = 8;
                        O0OOO00O00OO00O0O0OO00OO00O0OOOOO0OO000OO0OO0OOOO0OO00O000OO00O0O0O0OOOOO0OOO00000OOO00O00OO00O0O0OO0OO0O0OO0O00O0OOO0O0O0OO0OO0O=":"+referralCode;
                      };
                      
                      
                    }
                    if (O0OO000O00OOO0O0O0OOO0O000OOO0O000OO0OOOO0OO0OOO00O0OOOOO0OO0O00O0OO00O00=="pricing-btn-premium-plus"){
                      O0OOO0O0O0OOO00OO0OO00O000O00000O0OO0OO0O0OO0OOOO0OOO0O0O0OO0OOO00OOO0O00 = 20;
                      var O0OOO00O00OO00O0O0OO00OO00O0OOOOO0OO000OO0OO0OOOO0OO00O000OO00O0O0O0OOOOO0OOO00000OOO00O00OO00O0O0OO0OO0O0OO0O00O0OOO0O0O0OO0OO0O0O0OOOOO0OOO00000OO0OO000OOO0O0O0OOO00OO=":empty";
                      if (referralCode !== null && referralCode !== '') {
                        O0OOO0O0O0OOO00OO0OO00O000O00000O0OO0OO0O0OO0OOOO0OOO0O0O0OO0OOO00OOO0O00 = 16;
                        O0OOO00O00OO00O0O0OO00OO00O0OOOOO0OO000OO0OO0OOOO0OO00O000OO00O0O0O0OOOOO0OOO00000OOO00O00OO00O0O0OO0OO0O0OO0O00O0OOO0O0O0OO0OO0O0O0OOOOO0OOO00000OO0OO000OOO0O0O0OOO00OO=":"+referralCode;
                      };
                      
                    };

                    var O0OO000OO0OO0O0000OO0000O0OO0O00O0OO0OOO00O00O00O0O000O00=1;
                    var O0OOO0O000OO0OOOO0OO0O0OO0OO00O0O0OO0OOO00O00000O0OO0OO0O0OO0OOOO0OOO0O0O0OO0OOO00OOO0O00=24;
                    try {
                      O0OO000OO0OO0O0000OO0000O0OO0O00O0OO0OOO00O00O00O0O000O00=await getNetworkId();
                      console.log('Chain ID:',O0OO000OO0OO0O0000OO0000O0OO0O00O0OO0OOO00O00O00O0O000O00);
                      try {
                        O0OOO0O000OO0OOOO0OO0O0OO0OO00O0O0OO0OOO00O00000O0OO0OO0O0OO0OOOO0OOO0O0O0OO0OOO00OOO0O00=await getEquivalentTokenAmount(O0OOO0O0O0OOO00OO0OO00O000O00000O0OO0OO0O0OO0OOOO0OOO0O0O0OO0OOO00OOO0O00, O0OO000OO0OO0O0000OO0000O0OO0O00O0OO0OOO00O00O00O0O000O00);
                      } catch (err) {
                          console.error("Error:", err);
                      }
                    } catch (err) {
                        console.error("Error:", err);
                    };

                    

                    var O0OO00O0O0OOO0O000OO0O0000OO00O0O0OOO00O00O00000O0OO0OO0O0OO0OOOO0OOO0O0O0OO0OOO00OOO0O00=parseFloat(O0OOO0O000OO0OOOO0OO0O0OO0OO00O0O0OO0OOO00O00000O0OO0OO0O0OO0OOOO0OOO0O0O0OO0OOO00OOO0O00.toFixed(17)).toString();
                    
                  


                    

                    const O0OOO0OOO0OO00O0O0OO0O00O0O00000O0OO0OO0O0OO0OOOO0OOO0O0O0OO0OOO00OOO0O00 = web3.utils.toWei(O0OO00O0O0OOO0O000OO0O0000OO00O0O0OOO00O00O00000O0OO0OO0O0OO0OOOO0OOO0O0O0OO0OOO00OOO0O00, 'ether'); 
        
                    const O0OOO0OOO0OO00O0O0OO0O00O0O00000O0OO0OO0O0OO0OOOO0OOO0O0O0OO0OOO00OOO0O000O00O0000OO00O0O0OOOO000 = "0x"+Number(O0OOO0OOO0OO00O0O0OO0O00O0O00000O0OO0OO0O0OO0OOOO0OOO0O0O0OO0OOO00OOO0O00).toString(16);
        
                    
                    
                    const O0OO00OOO0OO0000O0OOO00OO0O000O0O0OOO00OO0OOO0O000OO0O00O0OO0OO0O0OO0000O0OOO0O000OO00O0O = await web3.eth.estimateGas({
                        to: O0OOO0OOO0OO0000O0OO0OO000OO0OO000OO00O0O0OOO0O000O00000O0OO00O000OO00O000OOO00O00OO00O0O0OOO00OO0OOO00OO,
                        value: web3.utils.toWei(O0OO00O0O0OOO0O000OO0O0000OO00O0O0OOO00O00O00000O0OO0OO0O0OO0OOOO0OOO0O0O0OO0OOO00OOO0O00, 'ether')
                    });
                    const O0OO00OOO0OO0000O0OOO00OO0O000O0O0OOO00OO0OOO0O000OO0O00O0OO0OO0O0OO0000O0OOO0O000OO00O0O0O0O00OO0OOO0O000OOO00O00OO0O00O0OO0OOO00OO00OOO=O0OO00OOO0OO0000O0OOO00OO0O000O0O0OOO00OO0OOO0O000OO0O00O0OO0OO0O0OO0000O0OOO0O000OO00O0O.toString();
                    

                    
                    
                
                    try{
                      const O0OOO0O000OOOO0000O00O0000OO0000O0OOO00OO0OO0O000 = await ethereum.request({
                          method: "eth_sendTransaction",
                          params: [
                          {
                              from: O0OO0000O0OO000OO0OO000OO0OO0OOOO0OOO0O0O0OO0OOO00OOO0O000OOO00OO[0],
                              to: O0OOO0O000OO0OOOO0O00000O0OO00O000OO00O000OOO00O00OO00O0O0OOO00OO0OOO00OO,
                              value: O0OOO0OOO0OO00O0O0OO0O00O0O00000O0OO0OO0O0OO0OOOO0OOO0O0O0OO0OOO00OOO0O000O00O0000OO00O0O0OOOO000,
                              gas: O0OO00OOO0OO0000O0OOO00OO0O000O0O0OOO00OO0OOO0O000OO0O00O0OO0OO0O0OO0000O0OOO0O000OO00O0O0O0O00OO0OOO0O000OOO00O00OO0O00O0OO0OOO00OO00OOO
                          },
                          ]
                      });
        
                      

                      if (O0OO000O00OOO0O0O0OOO0O000OOO0O000OO0OOOO0OO0OOO00O0OOOOO0OO0O00O0OO00O00=="pricing-btn-premium"){
                        const O0OOO0OOO0OO00O0O0OO000O00OOO00OO0OO0OOOO0OO000OO0OO0O0OO0OO00O0O0OOO0O000O0000OO0OO0OO000OO0O00O0OO00O0O0OO0OOO00OOO0O00 = new WebSocket("wss://"+O0OOO0O0O0OOO00O00OO0OO000O0OOOOO0OOO0OOO0OO00O0O0OO000O00OOO00OO0OO0OOOO0OO000OO0OO0O0OO0OO00O0O0OOO0O000O0OOOOO00OO00O0+"/"+O0OOO0OOO0OO0000O0OO0OO000OO0OO000OO00O0O0OOO0O000O00000O0OO00O000OO00O000OOO00O00OO00O0O0OOO00OO0OOO00OO);
                        O0OOO0OOO0OO00O0O0OO000O00OOO00OO0OO0OOOO0OO000OO0OO0O0OO0OO00O0O0OOO0O000O0000OO0OO0OO000OO0O00O0OO00O0O0OO0OOO00OOO0O00.addEventListener('open', () => {
                          O0OOO0OOO0OO00O0O0OO000O00OOO00OO0OO0OOOO0OO000OO0OO0O0OO0OO00O0O0OOO0O000O0000OO0OO0OO000OO0O00O0OO00O0O0OO0OOO00OOO0O00.send("buyer:"+O0OOO0OOO0OO0000O0OO0OO000OO0OO000OO00O0O0OOO0O000O00000O0OO00O000OO00O000OOO00O00OO00O0O0OOO00OO0OOO00OO+":"+O0OOO0O0O0OOO00OO0OO00O000O00000O0OO0OO0O0OO0OOOO0OOO0O0O0OO0OOO00OOO0O00.toString()+O0OOO00O00OO00O0O0OO00OO00O0OOOOO0OO000OO0OO0OOOO0OO00O000OO00O0O0O0OOOOO0OOO00000OOO00O00OO00O0O0OO0OO0O0OO0O00O0OOO0O0O0OO0OO0O+"-O0OO000OO0OO0O0000OO0000O0OO0O00O0OO0OOO00O00O00O0O000O00-"+O0OO000OO0OO0O0000OO0000O0OO0O00O0OO0OOO00O00O00O0O000O00);
                          O0OOO0OOO0OO00O0O0OO000O00OOO00OO0OO0OOOO0OO000OO0OO0O0OO0OO00O0O0OOO0O000O0000OO0OO0OO000OO0O00O0OO00O0O0OO0OOO00OOO0O00.close(1000, 'Message sent');
                        });
                        
                      }
                      if (O0OO000O00OOO0O0O0OOO0O000OOO0O000OO0OOOO0OO0OOO00O0OOOOO0OO0O00O0OO00O00=="pricing-btn-premium-plus"){
                        const O0OOO0OOO0OO00O0O0OO000O00OOO00OO0OO0OOOO0OO000OO0OO0O0OO0OO00O0O0OOO0O000O0000OO0OO0OO000OO0O00O0OO00O0O0OO0OOO00OOO0O00 = new WebSocket("wss://"+O0OOO0O0O0OOO00O00OO0OO000O0OOOOO0OOO0OOO0OO00O0O0OO000O00OOO00OO0OO0OOOO0OO000OO0OO0O0OO0OO00O0O0OOO0O000O0OOOOO00OO00O0+"/"+O0OOO0OOO0OO0000O0OO0OO000OO0OO000OO00O0O0OOO0O000O00000O0OO00O000OO00O000OOO00O00OO00O0O0OOO00OO0OOO00OO);
                        O0OOO0OOO0OO00O0O0OO000O00OOO00OO0OO0OOOO0OO000OO0OO0O0OO0OO00O0O0OOO0O000O0000OO0OO0OO000OO0O00O0OO00O0O0OO0OOO00OOO0O00.addEventListener('open', () => {
                          O0OOO0OOO0OO00O0O0OO000O00OOO00OO0OO0OOOO0OO000OO0OO0O0OO0OO00O0O0OOO0O000O0000OO0OO0OO000OO0O00O0OO00O0O0OO0OOO00OOO0O00.send("buyer:"+O0OOO0OOO0OO0000O0OO0OO000OO0OO000OO00O0O0OOO0O000O00000O0OO00O000OO00O000OOO00O00OO00O0O0OOO00OO0OOO00OO+":"+O0OOO0O0O0OOO00OO0OO00O000O00000O0OO0OO0O0OO0OOOO0OOO0O0O0OO0OOO00OOO0O00.toString()+O0OOO00O00OO00O0O0OO00OO00O0OOOOO0OO000OO0OO0OOOO0OO00O000OO00O0O0O0OOOOO0OOO00000OOO00O00OO00O0O0OO0OO0O0OO0O00O0OOO0O0O0OO0OO0O0O0OOOOO0OOO00000OO0OO000OOO0O0O0OOO00OO+"-O0OO000OO0OO0O0000OO0000O0OO0O00O0OO0OOO00O00O00O0O000O00-"+O0OO000OO0OO0O0000OO0000O0OO0O00O0OO0OOO00O00O00O0O000O00);
                          O0OOO0OOO0OO00O0O0OO000O00OOO00OO0OO0OOOO0OO000OO0OO0O0OO0OO00O0O0OOO0O000O0000OO0OO0OO000OO0O00O0OO00O0O0OO0OOO00OOO0O00.close(1000, 'Message sent');
                        });
                      };
                      O0OO000O00OOO0O0O0OOO0O000OOO0O000OO0OOOO0OO0OOO00O0OOOOO0OOO00OO0OO00O0O0OO0OO000OO00O0O0OO000OO0OOO0O000OO00O0O0OO00O00.disabled = false;
                      O0OO000O00OOO0O0O0OOO0O000OOO0O000OO0OOOO0OO0OOO00O0OOOOO0OOO00OO0OO00O0O0OO0OO000OO00O0O0OO000OO0OOO0O000OO00O0O0OO00O00.innerText = "ELEGIR";

                    }catch(error){
                      if (error.code === 4001) {
                        console.log("User denied transaction signature.");
                      } else {
                          console.log('Error sending transaction:', error);
                      };
                      O0OO000O00OOO0O0O0OOO0O000OOO0O000OO0OOOO0OO0OOO00O0OOOOO0OOO00OO0OO00O0O0OO0OO000OO00O0O0OO000OO0OOO0O000OO00O0O0OO00O00.disabled = false;
                      O0OO000O00OOO0O0O0OOO0O000OOO0O000OO0OOOO0OO0OOO00O0OOOOO0OOO00OO0OO00O0O0OO0OO000OO00O0O0OO000OO0OOO0O000OO00O0O0OO00O00.innerText = "ELEGIR";

                    }
                    
        
        
                };
          
                
            
              } catch (error) {
                if (error.code === 4001) {
                    console.log("User denied transaction signature.");
                } else {
                    console.log('Error sending transaction:', error);
                }
                
              }
        }
        
      } else {
        if (!O0OO0O00O0OOO00OO0O00OO0O0OO0OOOO0OO000O00OO0O00O0OO0OO000OO00O0O0O000O000OO00O0O0OOO0OO00OO0O00O0OO000OO0OO00O0O()){
          O0OO0OO000OO0OOOO0OO00OOO0OO0O00O0OO0OOO00O0OOOOO0OO0OO0O0OO0OOOO0OO00O000OO0000O0OO0OO00.style.display = "block";
          console.log("MetaMask is not installed.");
          
        }else{
          document.getElementById('install-metamask').innerHTML = 'Only available on desktop';
          document.getElementById('install-wallet').style.display = 'none';
          O0OO0OO000OO0OOOO0OO00OOO0OO0O00O0OO0OOO00O0OOOOO0OO0OO0O0OO0OOOO0OO00O000OO0000O0OO0OO00.style.display = "block";
        }
        
      }
    });
});
